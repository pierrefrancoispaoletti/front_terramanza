(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{179:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(62),r=a.n(c),o=(a(179),a(10)),i=a(17),s=a.n(i),l=a(14),d=a(243),u=a(246),j=a(239),b=a(9),p=a(96),O=a(13),g=a(12),m=a(238),h=a(247),f=a(249),x=a(1),v=function(e){var t=e.loading,a=e.visible,n=e._id,c=e.choice,r=e.product,o=e.handleDeleteProduct,i=e.handleChangeChoice,s=e.handleChangeVisibility,l=e.setSelectedProduct,d=e.setOpenEditProductModal,u=e.setOpenUpdateImageModal;return Object(x.jsxs)("div",{className:"adminbuttons",children:[Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return o(n)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){l(r),d(!0)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:a?"hide":"unhide",size:"large",onClick:function(){return s(r)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"heart",size:"large",color:c?"red":"grey",onClick:function(){return i(r)}}),Object(x.jsx)(h.a,{disabled:t,loading:t,circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){l(r),u(!0)}})]})},y=a(95),C=a(140),M=(a(212),"#ADC6BD"),k="#612712",S=[{name:"Insalate",slug:"insalate",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.l})},{name:"Carne",slug:"carne",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.q})},{name:"Pescare",slug:"pescare",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.f})},{name:"Pasta",slug:"pasta",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.q})},{name:"Pizza",slug:"pizza",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.k})},{name:"Desserts",slug:"desserts",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.d})},{name:"Boissons Fra\xeeches",slug:"boissons-fraiches",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.i})},{name:"Boissons Chaudes",slug:"boissons-chaudes",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.c})},{name:"Les Alcools",slug:"alcools",icon:Object(x.jsx)(g.a,{size:"4x",color:"#ADC6BD",icon:O.g}),subCategories:[{name:"Bi\xe8res",slug:"bieres",icon:Object(x.jsx)(g.a,{size:"3x",icon:O.b,style:{"--fa-primary-color":k,"--fa-secondary-color":M}})},{name:"Ap\xe9ritifs et Alcools",slug:"aperitifs",icon:Object(x.jsx)(g.a,{size:"3x",icon:O.g,style:{"--fa-primary-color":k,"--fa-secondary-color":M}})},{name:"Vins",slug:"vins",icon:Object(x.jsx)(g.a,{size:"3x",icon:O.r,style:{"--fa-primary-color":k,"--fa-secondary-color":M}})}]}],A="https://terrazmanza-cd65c39dfacc.herokuapp.com",P=function(e){var t=e.product,a=(e._id,e.name),n=(e.type,e.region,e.description),c=e.price,r=(e.category,e.subCategory,e.choice),o=e.visible,i=e.image,s=e.user,l=e.setOpenImageModal,d=e.setSelectedProduct,u=navigator.language||navigator.userLanguage,j={get:function(e,t){return((JSON.parse(localStorage.getItem("translations"))||{})[t]||{})[e]},set:function(e,t,a){var n=JSON.parse(localStorage.getItem("translations"))||Object(y.a)({},t,{});n[t]=Object(b.a)(Object(b.a)({},n[t]),{},Object(y.a)({},e,a)),localStorage.setItem("translations",JSON.stringify(n))}};return Object(x.jsxs)("div",{className:"productitem",style:{display:o||s?"":"none",background:M},children:[Object(x.jsxs)("div",{className:"productitem-header",children:[Object(x.jsxs)(f.a,{as:"h3",style:{color:"white"},children:[o?"":"Cach\xe9 : ",Object(x.jsx)("div",{children:a}),i&&Object(x.jsx)(g.a,{style:{color:k,margin:8},icon:O.n,onClick:function(){d(t),l(!0)}}),r?Object(x.jsx)(g.a,{className:"bosschoice alvp__icon",color:"darkred",icon:O.h,size:"2x"}):""]}),0!==c&&Object(x.jsxs)("span",{className:"price",style:{background:k,color:M},children:[c.toFixed(2).toString(),Object(x.jsx)("small",{children:"\u20ac"})]})]}),n&&Object(x.jsx)(C.b,{cacheProvider:j,from:"fr",to:u.substr(0,2),googleApiKey:"AIzaSyBk9HYYrfPI-3YKfFoLjsOiKBJjhTqfN2g",children:Object(x.jsx)("p",{className:"description",style:{background:k,color:"white"},children:Object(x.jsx)(C.a,{children:n})})})]})},z=a(242),w=function(e){e.dropdownValue;var t=e.subCategories,a=e.activeMenu,n=e.setActiveMenu;e.setDropdownValue,e.products;return Object(x.jsx)(z.a,{compact:!0,borderless:!0,icon:"labeled",className:"categories-menu",style:{position:"relative"},children:t.map((function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(z.a.Item,{className:"menu-items",active:a===e.slug,onClick:function(){return n(e.slug)},children:[Object(x.jsx)(z.a.Header,{children:e.icon}),e.name]},e.slug)})}))})},I=(a(213),["image"]),E=["image"],D=function(e){var t=e.setFilteredProducts,a=e.selectedCategory,c=e.dropdownValue,r=e.activeMenu,i=e.setActiveMenu,d=e.setDropdownValue,u=e.products,y=e.filteredProducts,C=e.user,S=e.setOpenAddProductModal,z=e.setProducts,D=e.setOpenLoginModal,F=e.setSelectedProduct,N=e.setOpenEditProductModal,B=e.setOpenImageModal,L=e.setOpenUpdateImageModal,_=(Object(l.f)(),a.name),V=a.subCategories,U=Object(n.useState)(!1),q=Object(o.a)(U,2),R=q[0],T=q[1];Object(n.useEffect)((function(){t(u.filter((function(e){return e.type===a.slug})))}),[u]),Object(n.useEffect)((function(){d(""),r&&t(null===u||void 0===u?void 0:u.filter((function(e){return e.category===r})))}),[r]),Object(n.useEffect)((function(){c&&(d(c),t(null===u||void 0===u?void 0:u.filter((function(e){return e.subCategory===c}))))}),[c]);var J=localStorage.getItem("token-1755"),H=function(e){J?(T(!0),s()({method:"delete",url:"".concat(A,"/api/products/deleteProduct"),data:{productId:e},headers:{Authorization:"Bearer "+J}}).then((function(e){return z(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return T(!1)}))):D(!0)},Y=function(e){e.image;var t=Object(p.a)(e,I);t.visible=!e.visible,J?(T(!0),s()({method:"post",url:"".concat(A,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+J}}).then((function(e){return z(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return T(!1)}))):D(!0)},G=function(e){e.image;var t=Object(p.a)(e,E);t.choice=!e.choice,J?(T(!0),s()({method:"post",url:"".concat(A,"/api/products/updateProduct"),data:{update:t,productId:e._id},headers:{Authorization:"Bearer "+J}}).then((function(e){return z(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return T(!1)}))):D(!0)};return Object(x.jsxs)(m.a,{className:"categories",children:[C&&Object(x.jsx)("div",{children:Object(x.jsx)(h.a,{color:"green",circular:!0,size:"medium",onClick:function(){return S(!0)},children:Object(x.jsx)(g.a,{icon:O.m,size:"2x"})})}),Object(x.jsx)(f.a,{className:"categories-header",as:"h2",style:{background:k,color:M},children:r?"Les ".concat(r):_}),Object(x.jsx)(j.a,{hidden:!0}),V&&Object(x.jsx)(w,{products:u,dropdownValue:c,subCategories:V,activeMenu:r,setActiveMenu:i,setDropdownValue:d}),Object(x.jsx)(j.a,{hidden:!0}),Object(x.jsx)("div",{className:"products",children:null===y||void 0===y?void 0:y.sort((function(e,t){return e.price-t.price})).sort((function(e,t){return t.choice-e.choice})).map((function(e){return Object(x.jsxs)(x.Fragment,{children:[C&&Object(x.jsx)(v,Object(b.a)(Object(b.a)({loading:R},e),{},{product:e,handleDeleteProduct:H,handleChangeVisibility:Y,handleChangeChoice:G,setSelectedProduct:F,setOpenEditProductModal:N,setOpenUpdateImageModal:L})),Object(x.jsx)(P,Object(b.a)(Object(b.a)({product:e},e),{},{user:C,setOpenImageModal:B,setSelectedProduct:F}),e._id)]})}))}),Object(x.jsx)(j.a,{hidden:!0}),V&&y.length>3&&Object(x.jsx)(w,{products:u,dropdownValue:c,subCategories:V,activeMenu:r,setActiveMenu:i,setDropdownValue:d})]})},F=(a(219),function(e){var t,a,c,r=e.user,i=e.event,l=e.setEvent,d=e.setOpenAddEventModal,u=(e.setOpenEditEventModal,e.setOpenLoginModal),j=Object(n.useState)(!1),b=Object(o.a)(j,2),p=b[0],v=b[1],y=localStorage.getItem("token-1755"),C=Object(n.useState)(0),M=Object(o.a)(C,2),k=(M[0],M[1]);Object(n.useEffect)((function(){i&&Object.keys(i).length>0&&k(i.like)}),[]);var S="data:".concat(null===(t=i.image)||void 0===t?void 0:t.contentType,";base64,"),P=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===(a=i.image)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.data);return Object(x.jsxs)(m.a,{className:"home",children:[r&&Object(x.jsxs)("div",{className:"home-addbutton",children:[i&&0===Object.keys(i).length&&Object(x.jsx)(h.a,{loading:p,disabled:p,color:"green",circular:!0,size:"medium",onClick:function(){return d(!0)},children:Object(x.jsx)(g.a,{icon:O.m,size:"2x"})}),i&&Object.keys(i).length>0&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(h.a,{loading:p,disabled:p,color:"red",circular:!0,size:"medium",onClick:function(){return e=i._id,void(y?(v(!0),s()({method:"delete",url:"".concat(A,"/api/events/deleteEvent"),data:{eventId:e},headers:{Authorization:"Bearer "+y}}).then((function(e){return l({})})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))):u(!0));var e},children:Object(x.jsx)(g.a,{icon:O.o,size:"2x"})})})]}),i&&Object.keys(i).length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f.a,{className:"home-header",as:"h1",children:i.name}),Object(x.jsxs)(m.a,{text:!0,className:"home-presentation",children:[i.image&&Object(x.jsx)("div",{children:Object(x.jsx)("img",{style:{width:"100%"},src:S+P,alt:i.name})}),i.date&&Object(x.jsx)("p",{children:"Le :\n                ".concat(new Date(i.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}))}),Object(x.jsx)("p",{children:i.description})]})]}),i&&0===Object.keys(i).length&&Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(x.jsx)("img",{height:"300px",src:"./assets/images/logo.png",alt:""})})]})}),N=a(92),B=a(120),L=a(244),_=a(93),V=a(241),U=a(78),q=a.n(U),R=function(e){var t=e.setEvent,a=e.setAppMessage,c=e.setOpenLoginModal,r=e.openAddEventModal,i=e.setOpenAddEventModal,l=Object(n.useState)({name:"",description:"",date:"",like:0,image:""}),d=Object(o.a)(l,2),u=d[0],j=d[1],p=new Date,O=Object(n.useState)(!1),g=Object(o.a)(O,2),m=g[0],v=g[1],y=function(e){var t={};t[e.target.name]=e.target.value,j(Object(b.a)(Object(b.a)({},u),t))},C=function(){var e=Object(B.a)(Object(N.a)().mark((function e(t){return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.imageFileResizer(t.target.files[0],500,500,"JPEG",100,0,(function(e){j(Object(b.a)(Object(b.a)({},u),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=Object(n.useRef)(null),k=localStorage.getItem("token-1755");return Object(x.jsxs)(L.a,{closeIcon:!0,onClose:function(){return i(!1)},onOpen:function(){return i(!0)},open:r,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(_.a,{name:"add"}),"Ajouter un Evenement"]}),Object(x.jsx)(L.a.Content,{children:Object(x.jsxs)(V.a,{onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("name",u.name),n.append("description",u.description||""),n.append("date",u.date||""),n.append("like",0),n.append("image",u.image||""),k?(v(!0),s()({method:"post",url:"".concat(A,"/api/events/createEvent"),data:n,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+k}}).then((function(e){e&&200===e.data.status&&(t(e.data.data),j({name:"",description:"",date:"",like:0,image:""})),a({success:200===e.data.status,message:e.data.message})})).then((function(){i(!1)})).catch((function(e){return a({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){v(!1)}))):c(!0)},id:"addEvent-form",children:[Object(x.jsxs)(V.a.Field,{required:!0,error:!u.name,children:[Object(x.jsx)("label",{children:"Nom de l'evenement"}),Object(x.jsx)("input",{value:u.name,name:"name",type:"text",onChange:function(e){return y(e)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:u.description,name:"description",rows:"5",cols:"33",onChange:function(e){return y(e)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Date de l'evenement"}),Object(x.jsx)("input",{value:u.date,name:"date",type:"date",min:p.toISOString().split("T")[0],onChange:function(e){return y(e)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("input",{ref:M,accept:"image/*",id:"addEventImage",files:u.image,type:"file",hidden:!0,onChange:function(e){return C(e)}}),Object(x.jsx)(h.a,{disabled:m,loading:m,type:"button",onClick:function(){return M.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(x.jsxs)(L.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:m||!u.name,loading:m,color:"green",type:"submit",form:"addEvent-form",inverted:!0,children:[Object(x.jsx)(_.a,{name:"add"})," Ajouter"]}),Object(x.jsxs)(h.a,{disabled:m,loading:m,color:"red",type:"submit",form:"addEvent-form",inverted:!0,onClick:function(){return i(!1)},children:[Object(x.jsx)(_.a,{name:"remove"})," Annuler"]})]})]})},T=a(240),J=function(e){var t=e.selectedCategory,a=e.setAppMessage,c=e.openAddProductModal,r=e.setOpenAddProductModal,i=e.setOpenLoginModal,l=e.setProducts,d=Object(n.useState)({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""}),u=Object(o.a)(d,2),j=u[0],p=u[1],O=Object(n.useState)(!1),g=Object(o.a)(O,2),m=g[0],v=g[1],y=Object(n.useRef)(null);Object(n.useEffect)((function(){p(Object(b.a)(Object(b.a)({},j),{},{type:t.slug}))}),[t]);var C=function(e){var t={};t[e.target.name]=e.target.value,p(Object(b.a)(Object(b.a)({},j),t))},M=function(){var e=Object(B.a)(Object(N.a)().mark((function e(t){return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.imageFileResizer(t.target.files[0],500,500,"JPEG",100,0,(function(e){p(Object(b.a)(Object(b.a)({},j),{},{image:e}))}),"file");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=localStorage.getItem("token-1755");Object(n.useEffect)((function(){"rouges"===j.category&&"premiums"===j.category||p(Object(b.a)(Object(b.a)({},j),{},{subCategory:""}))}),[j.category]);return Object(x.jsxs)(L.a,{onClose:function(){return r(!1)},onOpen:function(){return r(!0)},open:c,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(_.a,{name:"add"}),"Ajouter un Produit"]}),Object(x.jsx)(L.a.Content,{children:Object(x.jsxs)(V.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",j.name),t.append("description",j.description||""),t.append("region",j.region||""),t.append("price",j.price),t.append("type",j.type),t.append("category",j.category||""),t.append("subCategory",j.subCategory||""),t.append("choice",j.choice||!1),t.append("visible",j.visible||!0),t.append("image",j.image||""),k?(v(!0),s()({method:"post",url:"".concat(A,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+k}}).then((function(e){e&&200===e.data.status&&(l(e.data.data),p({name:"",region:"",description:"",price:"",type:"",category:"",subCategory:"",choice:!1,visible:!0,image:""})),a({success:200===e.data.status,message:e.data.message})})).then((function(){r(!1)})).catch((function(e){return a({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){v(!1)}))):i(!0)},id:"addProduct-form",children:[Object(x.jsxs)(V.a.Field,{required:!0,error:!j.name,children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:j.name,name:"name",type:"text",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:j.description,name:"description",rows:"5",cols:"33",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(V.a.Field,{required:!0,error:!j.price,children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:0,step:.1,value:j.price,name:"price",type:"number",onChange:function(e){return C(e)}})]}),Object(x.jsxs)(V.a.Field,{required:!0,error:!j.type,children:[Object(x.jsx)("label",{children:"Type de Produit"}),S.map((function(e){return e.slug&&Object(x.jsx)(T.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.type;t=e,p(Object(b.a)(Object(b.a)({},j),{},{type:t}))}(e.slug)},checked:j.type===e.slug},e.slug)}))]}),"alcools"===j.type&&Object(x.jsxs)(V.a.Field,{required:!0,error:!j.category,children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),S.map((function(e){var t;return e.slug===j.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(T.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=j.category;t=e,p(Object(b.a)(Object(b.a)({},j),{},{category:t}))}(e.slug)},checked:j.category===e.slug},e.slug)})))}))]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(T.a,{toggle:!0,checked:j.choice,onChange:function(){return p(Object(b.a)(Object(b.a)({},j),{},{choice:!j.choice}))}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("input",{ref:y,accept:"image/*",id:"addImage",files:j.image,type:"file",hidden:!0,onChange:function(e){return M(e)}}),Object(x.jsx)(h.a,{disabled:m,loading:m,type:"button",onClick:function(){return y.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(x.jsxs)(L.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:m||!j.name||!j.price||!j.type||"alcools"===j.type&&!j.category,loading:m,color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(x.jsx)(_.a,{name:"add"})," Ajouter"]}),Object(x.jsxs)(h.a,{disabled:m,loading:m,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return r(!1)},children:[Object(x.jsx)(_.a,{name:"remove"})," Annuler"]})]})]})},H=["image"],Y=function(e){var t=e.product,a=e.setOpenEditProductModal,c=e.openEditProductModal,r=e.setOpenLoginModal,i=e.setAppMessage,l=e.setProducts,d=(t.image,Object(p.a)(t,H)),u=Object(n.useState)({name:d.name,region:d.region,description:d.description,price:d.price,type:d.type,category:d.category,subCategory:d.subCategory,choice:d.choice,visible:d.visible}),j=Object(o.a)(u,2),O=j[0],g=j[1],m=Object(n.useState)(!1),v=Object(o.a)(m,2),y=v[0],C=v[1];Object(n.useEffect)((function(){g(Object(b.a)({},d))}),[t]);var M=function(e){var t={};t[e.target.name]=e.target.value,g(Object(b.a)(Object(b.a)({},O),t))},k=localStorage.getItem("token-1755");Object(n.useEffect)((function(){"rouges"===O.category&&"premiums"===O.category||g(Object(b.a)(Object(b.a)({},O),{},{subCategory:""}))}),[O.category]);return Object(x.jsxs)(L.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:c,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(_.a,{name:"edit"}),"Editer ",d.name]}),Object(x.jsx)(L.a.Content,{children:Object(x.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),k?(C(!0),s()({method:"post",url:"".concat(A,"/api/products/updateProduct"),data:{update:O,productId:d._id},headers:{Authorization:"Bearer "+k}}).then((function(e){e&&200===e.data.status&&l(e.data.data),i({success:200===e.data.status,message:e.data.message})})).catch((function(e){i({success:!1,message:"Il y a eu un probleme, veuillez reessayer"})})).finally((function(){C(!1),a(!1)}))):(a(!1),r(!0))},id:"editProduct-form",children:[Object(x.jsxs)(V.a.Field,{required:!0,error:!O.name,children:[Object(x.jsx)("label",{children:"Nom du Produit"}),Object(x.jsx)("input",{value:O.name,name:"name",type:"text",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",{value:O.description,name:"description",rows:"5",cols:"33",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(V.a.Field,{required:!0,error:!O.price,children:[Object(x.jsx)("label",{children:"Prix"}),Object(x.jsx)("input",{min:1,step:.1,value:O.price,name:"price",type:"number",onChange:function(e){return M(e)}})]}),Object(x.jsxs)(V.a.Field,{required:!0,error:!O.type,children:[Object(x.jsx)("label",{children:"Type de Produit"}),S.map((function(e){return e.slug&&Object(x.jsx)(T.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=O.type;t=e,g(Object(b.a)(Object(b.a)({},O),{},{type:t}))}(e.slug)},checked:O.type===e.slug},e.slug)}))]}),"alcools"===O.type&&Object(x.jsxs)(V.a.Field,{required:!0,error:!O.category,children:[Object(x.jsx)("label",{children:"Categorie de Produit"}),S.map((function(e){var t;return e.slug===O.type&&(null===(t=e.subCategories)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(T.a,{style:{padding:5},label:e.name,name:e.slug,value:e.slug,onChange:function(){return function(e){var t=O.category;t=e,g(Object(b.a)(Object(b.a)({},O),{},{category:t}))}(e.slug)},checked:O.category===e.slug},e.slug)})))}))]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Choix du Patron ?"}),Object(x.jsx)(T.a,{toggle:!0,checked:O.choice,onChange:function(){return g(Object(b.a)(Object(b.a)({},O),{},{choice:!O.choice}))}})]})]})}),Object(x.jsxs)(L.a.Actions,{children:[Object(x.jsxs)(h.a,{disabled:y||!O.name||!O.price||!O.type||"alcools"===O.type&&!O.category,loading:y,color:"purple",type:"submit",form:"editProduct-form",inverted:!0,children:[Object(x.jsx)(_.a,{name:"edit"})," Editer"]}),Object(x.jsxs)(h.a,{disabled:y,loading:y,color:"red",type:"submit",form:"editProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(x.jsx)(_.a,{name:"remove"})," Annuler"]})]})]})},G=function(e){var t,a=e.openImageModal,n=e.setOpenImageModal,c=e.product,r=c.image,o=c.name,i="data:".concat(null===r||void 0===r?void 0:r.contentType,";base64,"),s=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(L.a,{closeIcon:!0,basic:!0,open:a,onClose:function(){return n(!1)},children:[Object(x.jsx)(f.a,{children:o}),Object(x.jsx)(L.a.Content,{children:Object(x.jsx)("img",{style:{width:"100%"},src:i+s,alt:o})})]})},K=function(e){var t=e.setOpenLoginModal,a=e.openLoginModal,c=e.setUser,r=e.setAppMessage,i=Object(n.useState)(""),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(""),b=Object(o.a)(j,2),p=b[0],O=b[1],g=Object(n.useState)(!1),m=Object(o.a)(g,2),v=m[0],y=m[1];return Object(x.jsxs)(L.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:a,size:"small",children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(_.a,{name:"user"}),"Se Connecter"]}),Object(x.jsx)(L.a.Content,{children:Object(x.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),y(!0),s()({method:"post",url:"".concat(A,"/auth/login"),data:{email:d,password:p}}).then((function(e){c(e.data.role),r({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-1755",e.data.token),t(!1)})).catch((function(e){r({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){y(!1)}))},id:"auth-form",children:[Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"E-Mail"}),Object(x.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("label",{children:"Mot de passe"}),Object(x.jsx)("input",{type:"password",value:p,onChange:function(e){return O(e.target.value)}})]})]})}),Object(x.jsx)(L.a.Actions,{children:Object(x.jsxs)(h.a,{color:"green",loading:v,type:"submit",form:"auth-form",disabled:0===d.length||0===p.length||v,inverted:!0,children:[Object(x.jsx)(_.a,{name:"checkmark"})," Connexion"]})})]})},Q=function(e){var t,a=e.openUpdateImageModal,c=e.setOpenUpdateImageModal,r=e.product,i=e.setProducts,l=e.setOpenLoginModal,d=e.setAppMessage,u=Object(n.useState)(""),j=Object(o.a)(u,2),b=j[0],p=j[1],O=Object(n.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],C=Object(n.useRef)(null),M=r._id,k=r.name,S=r.image;Object(n.useEffect)((function(){b&&function(e){var t=document.querySelector(".showimage"),a=new FileReader;t&&(a.onload=function(){t.src=a.result},a.readAsDataURL(e))}(b)}),[b]);var P=localStorage.getItem("token-1755"),z="data:".concat(null===S||void 0===S?void 0:S.contentType,";base64,"),w=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.data);return Object(x.jsxs)(L.a,{open:a,onClose:function(){return c(!1)},children:[Object(x.jsxs)(f.a,{icon:!0,children:[Object(x.jsx)(_.a,{name:"image"}),"Editer l'image"]}),(S||b)&&Object(x.jsx)(m.a,{children:Object(x.jsx)("img",{className:"showimage",style:{width:"100%",height:"100%"},src:z+w,alt:k})}),Object(x.jsx)(L.a.Content,{children:Object(x.jsx)(V.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",b);var a=localStorage.getItem("token-1755");a?(y(!0),s()({method:"post",url:"".concat(A,"/api/products/updateProductImage/").concat(M),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+a}}).then((function(e){e&&200===e.data.status?(i(e.data.data),d({success:200===e.data.status,message:e.data.message})):d({success:200===e.data.status,message:e.data.message})})).then((function(){c(!1),p("")})).catch((function(e){return console.log(e)})).finally((function(){return y(!1)}))):(c(!1),l(!0))},id:"editImage-form",children:Object(x.jsxs)(V.a.Field,{children:[Object(x.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:b,type:"file",hidden:!0,onChange:function(e){q.a.imageFileResizer(e.target.files[0],500,500,"JPEG",100,0,(function(e){p(e)}),"file")}}),Object(x.jsx)(h.a,{disabled:v,loading:v,type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(x.jsxs)(L.a.Actions,{children:[b&&Object(x.jsxs)(h.a,{loading:v,disabled:v,color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(x.jsx)(_.a,{name:"add"})," Envoyer l'image pour ",k]}),S&&Object(x.jsxs)(h.a,{loading:v,disabled:v,type:"button",color:"red",form:"editImage-form",inverted:!0,onClick:function(){P?(y(!0),s()({method:"post",url:"".concat(A,"/api/products/updateProduct"),data:{update:{image:""},productId:M},headers:{Authorization:"Bearer "+P}}).then((function(e){i(e.data.data),d({success:200===e.data.status,message:"Image supprim\xe9e avec succ\xe9s"})})).catch((function(e){return console.log(e)})).finally((function(){y(!1),c(!1)}))):(c(!1),l(!0))},children:[Object(x.jsx)(_.a,{name:"delete"})," Supprimer l'image pour ",k]}),Object(x.jsxs)(h.a,{loading:v,disabled:v,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(x.jsx)(_.a,{name:"remove"})," Annuler"]})]})]})},W=a(65),X=a(250),Z=a(245),$=a(251),ee=(a(220),function(e){var t=e.selectedCategory,a=e.setActiveMenu,c=e.setDropdownValue,r=e.products,o=e.setFilteredProducts,i=e.setSelectedCategory,s=e.sidebarVisible,l=e.setSidebarVisible,d=e.children;return Object(n.useEffect)((function(){t&&(a(""),c(""),o([]),o(r.filter((function(e){return e.type===t.slug}))))}),[t]),Object(x.jsx)(X.a,{columns:1,children:Object(x.jsx)(X.a.Column,{children:Object(x.jsxs)(Z.a.Pushable,{as:$.a,children:[Object(x.jsxs)(Z.a,{style:{background:"#2B2B29"},as:z.a,animation:"overlay",icon:"labeled",onHide:function(){return l(!1)},onShow:function(){return l(!0)},vertical:!0,visible:s,width:"thin",children:[Object(x.jsx)(W.b,{to:"/",onClick:function(){return i({})},children:Object(x.jsx)(z.a.Item,{className:"categories-sidebar-item",children:Object(x.jsx)(z.a.Header,{children:Object(x.jsx)("img",{height:"120px",width:"100%",src:"./assets/images/logo.png",alt:""})})})}),Object(x.jsx)(j.a,{}),S.map((function(e){return Object(x.jsx)(W.b,{to:"/categories/".concat(e.slug),onClick:function(){i(e),l(!1)},children:Object(x.jsxs)(z.a.Item,{className:"categories-sidebar-item",children:[Object(x.jsx)(z.a.Header,{children:e.icon}),Object(x.jsx)("span",{children:e.name})]})},e.slug)}))]}),Object(x.jsx)(Z.a.Pusher,{dimmed:s,children:Object(x.jsx)($.a,{basic:!0,children:d})})]})})})}),te=a(139),ae=(a(221),function(e){e.facebookUrl,e.instagramUrl,e.email,e.phoneNumber,e.backgroundColor,e.productBackgroundColor,e.textColor,e.titleColor;return Object(x.jsxs)("div",{className:"footer",children:[Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{as:"h3",children:"Retrouvez nous sur : "})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{target:"_blank",href:"https://www.facebook.com/bistrot.zen.ajaccio",rel:"noreferrer",children:Object(x.jsx)(g.a,{style:{color:"#3B5998",background:"white",borderRadius:"100%"},size:"3x",icon:te.a,pull:"left"})}),Object(x.jsx)("a",{target:"_blank",href:"https://www.instagram.com/terramanza_ajaccio/",rel:"noreferrer",children:Object(x.jsx)(g.a,{style:{color:"#3F729B",borderRadius:"100%"},size:"3x",icon:te.b,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)("div",{children:Object(x.jsx)(f.a,{as:"h3",children:"Contactez nous ! "})}),Object(x.jsxs)("div",{className:"footer__icons",children:[Object(x.jsx)("a",{href:"mailto:davidsolinas@aol.com",children:Object(x.jsx)(g.a,{style:{"--fa-primary-color":"black","--fa-secondary-color":"white","--fa-secondary-opacity":.8},size:"3x",icon:O.e,pull:"left"})}),Object(x.jsx)("a",{href:"tel:0836656565",children:Object(x.jsx)(g.a,{style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"black","--fa-primary-opacity":1,"--fa-secondary-opacity":1},size:"3x",icon:O.j,pull:"right"})})]}),Object(x.jsx)(j.a,{}),Object(x.jsxs)("div",{className:"footer__copyright",style:{color:"white"},children:["Copyright \xa9 ",Object(x.jsx)("a",{style:{color:"white"},href:"/",children:Object(x.jsx)("span",{children:"Terr'Amanza\xa0"})}),Object(x.jsx)("span",{children:" ".concat((new Date).getFullYear(),". ")})]}),Object(x.jsx)("div",{className:"footer__alvp",children:Object(x.jsxs)("a",{style:{color:"white",fontSize:"1em"},href:"mailto:pef@alvp-developments.com",children:["Made with",Object(x.jsx)(g.a,{className:"alvp__icon",color:"darkred",icon:O.h,size:"2x"}),"by ALVP-Developments Ajaccio"]})})]})}),ne=(a(222),a(223),function(e){var t=e.setSelectedCategory,a=e.setSidebarVisible,n=e.setOpenLoginModal,c=e.user,r=e.loading;return Object(x.jsxs)("div",{className:"topappbar",children:[Object(x.jsx)(W.b,{to:"/",onClick:function(){return t({})},children:Object(x.jsx)("div",{className:"topappbar-image",children:Object(x.jsx)("img",{height:"120px",src:"./assets/images/logo.png",alt:"logo cafe latin"})})}),Object(x.jsxs)("div",{className:"topappbar-icons",children:[Object(x.jsx)(h.a,{disabled:r,loading:r,icon:!0,circular:!0,color:c?"green":"grey",onClick:function(){return n(!0)},children:Object(x.jsx)(g.a,{size:"3x",icon:O.p})}),Object(x.jsx)(h.a,{disabled:r,loading:r,icon:!0,circular:!0,onClick:function(){return a(!0)},children:Object(x.jsx)(g.a,{size:"3x",icon:O.a})})]})]})}),ce=(a(224),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(o.a)(r,2),b=i[0],p=i[1],O=Object(n.useState)(""),g=Object(o.a)(O,2),m=g[0],h=g[1],f=Object(n.useState)(""),v=Object(o.a)(f,2),y=v[0],C=v[1],M=Object(n.useState)(""),k=Object(o.a)(M,2),S=k[0],P=k[1],z=Object(n.useState)(!1),w=Object(o.a)(z,2),I=w[0],E=w[1],N=Object(n.useState)(!1),B=Object(o.a)(N,2),L=B[0],_=B[1],V=Object(n.useState)(!1),U=Object(o.a)(V,2),q=U[0],T=U[1],H=Object(n.useState)(!1),W=Object(o.a)(H,2),X=W[0],Z=W[1],$=Object(n.useState)(!1),te=Object(o.a)($,2),ce=te[0],re=te[1],oe=Object(n.useState)(!1),ie=Object(o.a)(oe,2),se=ie[0],le=ie[1],de=Object(n.useState)(!1),ue=Object(o.a)(de,2),je=(ue[0],ue[1]),be=Object(n.useState)({}),pe=Object(o.a)(be,2),Oe=pe[0],ge=pe[1],me=Object(n.useState)([]),he=Object(o.a)(me,2),fe=he[0],xe=he[1],ve=Object(n.useState)({}),ye=Object(o.a)(ve,2),Ce=ye[0],Me=ye[1],ke=Object(n.useState)(!1),Se=Object(o.a)(ke,2),Ae=Se[0],Pe=Se[1],ze=Object(n.useState)({}),we=Object(o.a)(ze,2),Ie=we[0],Ee=we[1],De=Object(n.useState)([]),Fe=Object(o.a)(De,2),Ne=Fe[0],Be=Fe[1],Le=Object(n.useState)(!1),_e=Object(o.a)(Le,2),Ve=(_e[0],_e[1]);return Object(n.useEffect)((function(){0!==Object.keys(Ce).length&&setTimeout((function(){Me({})}),5e3)}),[Ce]),Object(n.useEffect)((function(){Pe(!0),s.a.get("".concat(A,"/api/products/allProducts")).then((function(e){e&&xe(e.data.data)})).catch((function(e){return Me({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return Pe(!1)})),Ve(!0),s.a.get("".concat(A,"/api/events/getEvent")).then((function(e){e&&Ee(e.data.data)})).catch((function(e){Me({success:!1,message:"Il y a eu un probl\xe9me, veuillez recharger la page"})})).finally((function(){return Ve(!1)}))}),[]),Object(x.jsx)("div",{className:"App",style:{position:"relative"},children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{animation:"jiggle",duration:500,visible:Object.keys(Ce).length>0,children:Object(x.jsx)(u.a,{style:{position:"fixed",top:15,zIndex:"1000",width:"100%"},hidden:0===Object.keys(Ce).length,success:!!Ce.success,error:!Ce.success,children:Ce.message})}),Object(x.jsxs)(ee,{setActiveMenu:h,setDropdownValue:C,selectedCategory:b,setFilteredProducts:Be,products:fe,sidebarVisible:a,setSidebarVisible:c,setSelectedCategory:p,children:[Object(x.jsx)(ne,{setSelectedCategory:p,loading:Ae,user:S,setSidebarVisible:c,setOpenLoginModal:E}),Object(x.jsx)(j.a,{hidden:!0}),Object(x.jsx)(K,{setUser:P,openLoginModal:I,setOpenLoginModal:E,setAppMessage:Me}),Object(x.jsxs)(l.c,{children:[Object(x.jsxs)(l.a,{exact:!0,path:"/",children:[Object(x.jsx)(R,{setEvent:Ee,setAppMessage:Me,setOpenLoginModal:E,openAddEventModal:se,setOpenAddEventModal:le}),Object(x.jsx)(F,{user:S,event:Ie,setEvent:Ee,setOpenLoginModal:E,setOpenAddEventModal:le,setOpenEditEventModal:je})]}),Object(x.jsxs)(l.a,{path:"/categories/:categorie",children:[Object(x.jsx)(J,{setProducts:xe,selectedCategory:b,setOpenLoginModal:E,setAppMessage:Me,openAddProductModal:L,setOpenAddProductModal:_}),Object(x.jsx)(Y,{product:Oe,setOpenEditProductModal:T,setAppMessage:Me,setOpenLoginModal:E,openEditProductModal:q,setProducts:xe}),Object(x.jsx)(Q,{openUpdateImageModal:ce,setOpenUpdateImageModal:re,setProducts:xe,product:Oe,setOpenLoginModal:E,setAppMessage:Me}),Object(x.jsx)(G,{openImageModal:X,setOpenImageModal:Z,product:Oe}),Object(x.jsx)(D,{filteredProducts:Ne,setFilteredProducts:Be,user:S,selectedCategory:b,activeMenu:m,setActiveMenu:h,dropdownValue:y,setDropdownValue:C,products:fe,setProducts:xe,setOpenLoginModal:E,setOpenAddProductModal:_,setOpenImageModal:Z,setOpenUpdateImageModal:re,setOpenEditProductModal:T,setSelectedProduct:ge})]})]}),Object(x.jsx)(j.a,{}),Object(x.jsx)(ae,{})]})]})})}),re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,253)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};a(225);r.a.render(Object(x.jsx)(W.a,{basename:"/",children:Object(x.jsx)(ce,{})}),document.getElementById("root")),re()}},[[226,1,2]]]);
//# sourceMappingURL=main.e6763c0c.chunk.js.map